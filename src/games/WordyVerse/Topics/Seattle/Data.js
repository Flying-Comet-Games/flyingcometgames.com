export const SEATTLE_WORDS = [
  // November 2024
  {
    date: "2024-11-15",
    theme: "Name",
    word: "SEWARD",
    characterCount: 6
  },
  {
    date: "2024-11-16",
    theme: "Name",
    word: "CHERRY",
    characterCount: 6
  },
  {
    date: "2024-11-17",
    theme: "Feature",
    word: "LOCKS",
    characterCount: 5
  },
  {
    date: "2024-11-18",
    theme: "Name",
    word: "BAKER",
    characterCount: 5
  },
  {
    date: "2024-11-19",
    theme: "Business",
    word: "SALTYS",
    characterCount: 6
  },
  {
    date: "2024-11-20",
    theme: "Place",
    word: "LUMEN",
    characterCount: 5
  },
  {
    date: "2024-11-21",
    theme: "Name",
    word: "LESCHI",
    characterCount: 6
  },
  {
    date: "2024-11-22",
    theme: "Place",
    word: "PRATT",
    characterCount: 5
  },
  {
    date: "2024-11-23",
    theme: "Place",
    word: "MANEKI",
    characterCount: 6
  },
  {
    date: "2024-11-24",
    theme: "Place",
    word: "FRANZ",
    characterCount: 5
  },
  {
    date: "2024-11-25",
    theme: "Name",
    word: "BOREN",
    characterCount: 5
  },
  {
    date: "2024-11-26",
    theme: "Business",
    word: "COSTCO",
    characterCount: 6
  },
  {
    date: "2024-11-27",
    theme: "Place",
    word: "HILLMAN",
    characterCount: 5
  },
  {
    date: "2024-11-28",
    theme: "Place",
    word: "CANLIS",
    characterCount: 6
  },
  {
    date: "2024-11-29",
    theme: "Business",
    word: "LADRO",
    characterCount: 5
  },
  {
    date: "2024-11-30",
    theme: "Name",
    word: "MERCER",
    characterCount: 6
  },
  // December 2024
  {
    date: "2024-12-01",
    theme: "Business",
    word: "UMAMI",
    characterCount: 5
  },
  {
    date: "2024-12-02",
    theme: "Other",
    word: "TULIP",
    characterCount: 5
  },
  {
    date: "2024-12-03",
    theme: "Phrase",
    word: "FREEZE",
    characterCount: 6
  },
  {
    date: "2024-12-04",
    theme: "Feature",
    word: "VOAST",
    characterCount: 5
  },
  {
    date: "2024-12-05",
    theme: "Feature",
    word: "TUNNEL",
    characterCount: 6
  },
  {
    date: "2024-12-06",
    theme: "Other",
    word: "GRUNGE",
    characterCount: 6
  },
  {
    date: "2024-12-07",
    theme: "Name",
    word: "BAKER",
    characterCount: 5
  },
  {
    date: "2024-12-08",
    theme: "Name",
    word: "STORM",
    characterCount: 5
  },
  {
    date: "2024-12-09",
    theme: "Thing",
    word: "EAGLE",
    characterCount: 5
  },
  {
    date: "2024-12-10",
    theme: "Acronym",
    word: "MOPOP",
    characterCount: 5
  },
  {
    date: "2024-12-11",
    theme: "Other",
    word: "RAINY",
    characterCount: 5
  },
  {
    date: "2024-12-12",
    theme: "Name",
    word: "KUBOTA",
    characterCount: 6
  },
  {
    date: "2024-12-13",
    theme: "Name",
    word: "BRUCE",
    characterCount: 5
  },
  {
    date: "2024-12-14",
    theme: "Thing",
    word: "SALMON",
    characterCount: 6
  },
  {
    date: "2024-12-15",
    theme: "Other",
    word: "FISHER",
    characterCount: 6
  },
  {
    date: "2024-12-16",
    theme: "Other",
    word: "OTTER",
    characterCount: 5
  },
  {
    date: "2024-12-17",
    theme: "Place",
    word: "QUEEN",
    characterCount: 5
  },
  {
    date: "2024-12-18",
    theme: "Name",
    word: "CHERRY",
    characterCount: 6
  },
  {
    date: "2024-12-19",
    theme: "Name",
    word: "MCCAW",
    characterCount: 5
  },
  {
    date: "2024-12-20",
    theme: "Feature",
    word: "MARINA",
    characterCount: 6
  },
  {
    date: "2024-12-21",
    theme: "Place",
    word: "SKAGIT",
    characterCount: 6
  },
  {
    date: "2024-12-22",
    theme: "Other",
    word: "MURAL",
    characterCount: 5
  },
  {
    date: "2024-12-23",
    theme: "Name",
    word: "OLIVE",
    characterCount: 5
  },
  {
    date: "2024-12-24",
    theme: "Place",
    word: "VASHON",
    characterCount: 6
  },
  {
    date: "2024-12-25",
    theme: "Name",
    word: "EDGAR",
    characterCount: 5
  },
  {
    date: "2024-12-26",
    theme: "Two words",
    word: "THEPI",
    characterCount: 5
  },
  {
    date: "2024-12-27",
    theme: "Name",
    word: "KRACKE",
    characterCount: 6
  },
  {
    date: "2024-12-28",
    theme: "Feature",
    word: "MARKET",
    characterCount: 6
  },
  {
    date: "2024-12-29",
    theme: "Other",
    word: "FLIGHT",
    characterCount: 6
  },
  {
    date: "2024-12-30",
    theme: "Acronym",
    word: "MOHAI",
    characterCount: 5
  },
  {
    date: "2024-12-31",
    theme: "Other",
    word: "GREYS",
    characterCount: 5
  },
  // January 2025
  {
    date: "2025-01-01",
    theme: "Two words",
    word: "THEAVE",
    characterCount: 6
  },
  {
    date: "2025-01-03",
    theme: "Business",
    word: "TIMES",
    characterCount: 5
  },
  {
    date: "2025-01-04",
    theme: "Name",
    word: "DRAVUS",
    characterCount: 6
  },
  {
    date: "2025-01-05",
    theme: "Other",
    word: "YUKON",
    characterCount: 5
  },
  {
    date: "2025-01-06",
    theme: "Place",
    word: "GOLDEN",
    characterCount: 6
  },
  {
    date: "2025-01-07",
    theme: "Place",
    word: "GARDEN",
    characterCount: 6
  },
  {
    date: "2025-01-08",
    theme: "Other",
    word: "HUSKY",
    characterCount: 5
  },
  {
    date: "2025-01-09",
    theme: "Business",
    word: "VOAST",
    characterCount: 5
  },
  {
    date: "2025-01-10",
    theme: "Other",
    word: "CRAFT",
    characterCount: 5
  },
  {
    date: "2025-01-11",
    theme: "Business",
    word: "UNEEDA",
    characterCount: 6
  },
  {
    date: "2025-01-12",
    theme: "Name",
    word: "PEARL",
    characterCount: 5
  },
  {
    date: "2025-01-13",
    theme: "Name",
    word: "BRANDY",
    characterCount: 6
  },
  {
    date: "2025-01-14",
    theme: "Other",
    word: "DAHLIA",
    characterCount: 6
  },
  {
    date: "2025-01-15",
    theme: "Other",
    word: "HAWKS",
    characterCount: 5
  }
];

export const getWordForDate = (date) => {
  if (!date || !SEATTLE_WORDS || !Array.isArray(SEATTLE_WORDS)) {
    return null;
  }

  // Convert to PT/Los Angeles timezone
  const ptDate = new Date(
    date.toLocaleString("en-US", { timeZone: "America/Los_Angeles" })
  );

  // Get current date in PT
  const currentPTDate = new Date(
    new Date().toLocaleString("en-US", { timeZone: "America/Los_Angeles" })
  );

  // Reset time parts for accurate date comparison
  currentPTDate.setHours(0, 0, 0, 0);
  ptDate.setHours(0, 0, 0, 0);

  // If requested date is in the future, return null
  if (ptDate > currentPTDate) {
    return null;
  }

  // Format the PT date as YYYY-MM-DD
  const dateString =
    ptDate.getFullYear() +
    "-" +
    String(ptDate.getMonth() + 1).padStart(2, "0") +
    "-" +
    String(ptDate.getDate()).padStart(2, "0");

  return SEATTLE_WORDS.find((entry) => entry.date === dateString);
};

export const findLatestAvailableDate = () => {
  if (!SEATTLE_WORDS || !Array.isArray(SEATTLE_WORDS)) {
    return null;
  }

  // Get current date in PT
  const currentPTDate = new Date(
    new Date().toLocaleString("en-US", { timeZone: "America/Los_Angeles" })
  );
  currentPTDate.setHours(0, 0, 0, 0);

  // Create dates in PT timezone and filter out future dates
  const sortedEntries = SEATTLE_WORDS.map((entry) => ({
    date: new Date(entry.date + "T00:00:00-08:00"), // Force PT timezone
    original: entry,
  }))
    .filter((entry) => entry.date <= currentPTDate) // Filter out future dates
    .sort((a, b) => b.date - a.date);

  return sortedEntries[0]?.original;
};