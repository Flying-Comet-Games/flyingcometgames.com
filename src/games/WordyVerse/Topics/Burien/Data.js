export const BURIEN_WORDS = [
  // December 2024
  {
    date: "2024-12-31",
    theme: "America's symbol hunts salmon around Three Tree Point",
    word: "EAGLE",
    characterCount: 5,
  },
  {
    date: "2025-01-01",
    theme: "Seahurst's sandy shore invites summer visitors",
    word: "BEACH",
    characterCount: 5,
  },
  {
    date: "2025-01-02",
    theme: "Canadian flag leaf drops red in Gregory Heights",
    word: "MAPLE",
    characterCount: 5,
  },
  {
    date: "2025-01-03",
    theme: "From downtown Seattle, head this way to find us",
    word: "SOUTH",
    characterCount: 5,
  },
  {
    date: "2025-01-04",
    theme: "Miller's flowing waters carve through town",
    word: "CREEK",
    characterCount: 5,
  },
  {
    date: "2025-01-05",
    theme: "A leafy haven by Lake Burien",
    word: "ARBOR",
    characterCount: 5,
  },
  {
    date: "2025-01-06",
    theme: "Our saltwater gateway to the Pacific",
    word: "PUGET",
    characterCount: 5,
  },
  {
    date: "2025-01-07",
    theme: "What waves make as they crash on our shores",
    word: "SOUND",
    characterCount: 5,
  },
  {
    date: "2025-01-08",
    theme: "Before anything else on this South avenue",
    word: "FIRST",
    characterCount: 5,
  },
  {
    date: "2025-01-09",
    theme: "Hidden waterfront gem in the Westwood neighborhood",
    word: "SEOLA",
    characterCount: 5,
  },
  {
    date: "2025-01-10",
    theme: "A witch might live in this local valley",
    word: "HAZEL",
    characterCount: 5,
  },
  {
    date: "2025-01-11",
    theme: "A geometric shape describes this SeaTac swimming spot",
    word: "ANGLE",
    characterCount: 5,
  },
  {
    date: "2025-01-12",
    theme: "This pioneer's boulevard bears his first name",
    word: "JACOB",
    characterCount: 5,
  },
  {
    date: "2025-01-13",
    theme: "Follow this person's path to White Center",
    word: "MYERS",
    characterCount: 5,
  },
  {
    date: "2025-01-14",
    theme: "A Scottish clan's name graces this green space",
    word: "MUNRO",
    characterCount: 5,
  },
  {
    date: "2025-01-15",
    theme: "A coastal prefix connects wood and line",
    word: "SHORE",
    characterCount: 5,
  },
  {
    date: "2025-01-16",
    theme: "The northern neighbor's color",
    word: "WHITE",
    characterCount: 5,
  },
  {
    date: "2025-01-17",
    theme: "These tall evergreens gave their name to a local 'hurst'",
    word: "CEDAR",
    characterCount: 5,
  },
  {
    date: "2025-01-18",
    theme: "A trio starts this local promontory's name",
    word: "THREE",
    characterCount: 5,
  },
  {
    date: "2025-01-19",
    theme: "An Irish surname of an early local pioneer",
    word: "KELLY",
    characterCount: 5,
  },
  {
    date: "2025-01-20",
    theme: "Where early settlers grew their food",
    word: "FARMS",
    characterCount: 5,
  },
  {
    date: "2025-01-21",
    theme: "Where the Mosquito Fleet once moored",
    word: "DOCKS",
    characterCount: 5,
  },
  {
    date: "2025-01-22",
    theme: "Where pioneers bought their supplies",
    word: "STORE",
    characterCount: 5,
  },
  {
    date: "2025-01-23",
    theme: "A forested realm surrounds our city",
    word: "WOODS",
    characterCount: 5,
  },
  {
    date: "2025-01-24",
    theme: "Green spaces for public enjoyment",
    word: "PARKS",
    characterCount: 5,
  },
  {
    date: "2025-01-25",
    theme: "Follow this path through Seahurst",
    word: "TRAIL",
    characterCount: 5,
  },
  {
    date: "2025-01-26",
    theme: "Scattered water bodies dot our region",
    word: "LAKES",
    characterCount: 5,
  },
  {
    date: "2025-01-27",
    theme: "Our city's leafy guardians",
    word: "TREES",
    characterCount: 5,
  },
  {
    date: "2025-01-28",
    theme: "Our rolling landscape features",
    word: "HILLS",
    characterCount: 5,
  },
  {
    date: "2025-01-29",
    theme: "Native Americans paddled these on local waters",
    word: "CANOE",
    characterCount: 5,
  },
  {
    date: "2025-01-30",
    theme: "Modern paddlers explore our shores in these",
    word: "KAYAK",
    characterCount: 5,
  },
  {
    date: "2025-01-31",
    theme: "They float past Three Tree Point",
    word: "BOATS",
    characterCount: 5,
  },
  {
    date: "2025-02-01",
    theme: "Puget Sound's salty substance",
    word: "WATER",
    characterCount: 5,
  },
  {
    date: "2025-02-02",
    theme: "Early settlers' rustic homes",
    word: "CABIN",
    characterCount: 5,
  },
  {
    date: "2025-02-03",
    theme: "Northwest evergreen with fragrant wood",
    word: "CEDAR",
    characterCount: 5,
  },
  {
    date: "2025-02-04",
    theme: "Discover Burien's leader's first name",
    word: "DEBRA",
    characterCount: 5,
  },
  {
    date: "2025-02-05",
    theme: "Local shorthand for our city",
    word: "BTOWN",
    characterCount: 5,
  },
  {
    date: "2025-02-06",
    theme: "Seahurst's green canopy",
    word: "FOREST",
    characterCount: 6,
  },
  {
    date: "2025-02-07",
    theme: "Highland Hospital's primary concern",
    word: "HEALTH",
    characterCount: 6,
  },
  {
    date: "2025-02-08",
    theme: "Mr. Ouellet helped establish our town",
    word: "GEORGE",
    characterCount: 6,
  },
  {
    date: "2025-02-09",
    theme: "Local school district's abbreviated name",
    word: "HILINE",
    characterCount: 6,
  },
  {
    date: "2025-02-10",
    theme: "Boulevard named for a pioneering developer",
    word: "AMBAUM",
    characterCount: 6,
  },
  {
    date: "2025-02-11",
    theme: "Our city's current administrative chief",
    word: "BAILON",
    characterCount: 6,
  },
  {
    date: "2025-02-12",
    theme: "A shortcut road's designation",
    word: "CUTOFF",
    characterCount: 6,
  },
  {
    date: "2025-02-13",
    theme: "These fish return to Miller's waters yearly",
    word: "SALMON",
    characterCount: 6,
  },
  {
    date: "2025-02-14",
    theme: "Highline High's swashbuckling mascot",
    word: "PIRATE",
    characterCount: 6,
  },
  {
    date: "2025-02-15",
    theme: "Popular Mexican eatery on Ambaum",
    word: "AZTECA",
    characterCount: 6,
  },
  {
    date: "2025-02-16",
    theme: "Original inhabitants' sea-going culture",
    word: "SALISH",
    characterCount: 6,
  },
  {
    date: "2025-02-17",
    theme: "Native American nations of our region",
    word: "TRIBES",
    characterCount: 6,
  },
  {
    date: "2025-02-18",
    theme: "Indigenous peoples' governance",
    word: "TRIBAL",
    characterCount: 6,
  },
  {
    date: "2025-02-19",
    theme: "Our waterfront neighbor to the south",
    word: "MOINES",
    characterCount: 6,
  },
  {
    date: "2025-02-20",
    theme: "Where planes meet trains near our city",
    word: "SEATAC",
    characterCount: 6,
  },
  {
    date: "2025-02-21",
    theme: "Our home between sea and sky",
    word: "BURIEN",
    characterCount: 6,
  },
  {
    date: "2025-02-22",
    theme: "When Wild Strawberry Festival happens",
    word: "SUMMER",
    characterCount: 6,
  },
];

export const getWordForDate = (date) => {
  if (!date || !BURIEN_WORDS || !Array.isArray(BURIEN_WORDS)) {
    return null;
  }

  // Convert to PT/Los Angeles timezone
  const ptDate = new Date(
    date.toLocaleString("en-US", { timeZone: "America/Los_Angeles" })
  );

  // Get current date in PT
  const currentPTDate = new Date(
    new Date().toLocaleString("en-US", { timeZone: "America/Los_Angeles" })
  );

  // Reset time parts for accurate date comparison
  currentPTDate.setHours(0, 0, 0, 0);
  ptDate.setHours(0, 0, 0, 0);

  // If requested date is in the future, return null
  if (ptDate > currentPTDate) {
    return null;
  }

  // Format the PT date as YYYY-MM-DD
  const dateString =
    ptDate.getFullYear() +
    "-" +
    String(ptDate.getMonth() + 1).padStart(2, "0") +
    "-" +
    String(ptDate.getDate()).padStart(2, "0");

  return BURIEN_WORDS.find((entry) => entry.date === dateString);
};

export const findLatestAvailableDate = () => {
  if (!BURIEN_WORDS || !Array.isArray(BURIEN_WORDS)) {
    return null;
  }

  // Get current date in PT
  const currentPTDate = new Date(
    new Date().toLocaleString("en-US", { timeZone: "America/Los_Angeles" })
  );
  currentPTDate.setHours(0, 0, 0, 0);

  // Create dates in PT timezone and filter out future dates
  const sortedEntries = BURIEN_WORDS.map((entry) => ({
    date: new Date(entry.date + "T00:00:00-08:00"), // Force PT timezone
    original: entry,
  }))
    .filter((entry) => entry.date <= currentPTDate) // Filter out future dates
    .sort((a, b) => b.date - a.date);

  return sortedEntries[0]?.original;
};
